<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'">
  <meta name="theme-color" content="#0f0f1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="MedKitt">
  <meta name="description" content="Evidence-based clinical decision trees for emergency medicine">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/app-icon-192.png">
  <link rel="apple-touch-icon" href="assets/app-icon-180.png">
  <link rel="stylesheet" href="style.css">
  <title>MedKitt</title>
  <style>
    /* Persistent Legal Disclaimer Banner */
    .legal-banner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a5a 100%);
      color: #fff;
      padding: 10px 16px;
      font-size: 12px;
      font-weight: 500;
      text-align: center;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3);
    }
    
    .legal-banner-icon {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }
    
    .legal-banner-text {
      line-height: 1.4;
    }
    
    .legal-banner-text strong {
      font-weight: 700;
    }
    
    .legal-banner-close {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: #fff;
      width: 24px;
      height: 24px;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
      margin-left: 8px;
    }
    
    .legal-banner-close:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    /* Adjust app content for banner */
    body.has-legal-banner {
      padding-top: 44px;
    }
    
    body.has-legal-banner .app-header {
      top: 44px;
    }
    
    body.has-legal-banner .main-content {
      margin-top: 44px;
    }
    
    /* Legal Footer */
    .legal-footer {
      background: #1a1a2e;
      border-top: 1px solid rgba(255, 107, 107, 0.2);
      padding: 16px;
      text-align: center;
      font-size: 11px;
      color: #808090;
      line-height: 1.5;
    }
    
    .legal-footer a {
      color: #ff6b6b;
      text-decoration: underline;
    }
    
    .legal-footer a:hover {
      color: #ff8585;
    }
    
    /* Legal Modal */
    .legal-modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10001;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .legal-modal-overlay.active {
      display: flex;
    }
    
    .legal-modal {
      background: #1a1a2e;
      border: 1px solid rgba(255, 107, 107, 0.3);
      border-radius: 12px;
      max-width: 500px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      padding: 24px;
    }
    
    .legal-modal h2 {
      color: #ff6b6b;
      font-size: 18px;
      margin: 0 0 16px;
    }
    
    .legal-modal p {
      color: #c0c0d0;
      font-size: 13px;
      line-height: 1.6;
      margin: 0 0 12px;
    }
    
    .legal-modal-btn {
      background: #ff6b6b;
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 16px;
    }
    
    .legal-modal-btn:hover {
      background: #ee5a5a;
    }

    /* Legal Disclaimer Splash Screen */
    .legal-splash-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(15, 15, 26, 0.98);
      z-index: 10002;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      backdrop-filter: blur(10px);
    }
    .legal-splash-overlay.legal-splash-hidden { display: none !important; }
    .legal-splash-modal {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid #ff6b6b;
      border-radius: 16px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 32px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 107, 107, 0.3);
    }
    .legal-splash-header { text-align: center; margin-bottom: 24px; }
    .legal-splash-icon {
      width: 64px; height: 64px; margin: 0 auto 16px;
      background: rgba(255, 107, 107, 0.1); border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
    }
    .legal-splash-icon svg { width: 32px; height: 32px; color: #ff6b6b; }
    .legal-splash-title { font-size: 24px; font-weight: 700; color: #ff6b6b; margin: 0 0 8px; }
    .legal-splash-subtitle { font-size: 14px; color: #a0a0b0; margin: 0; }
    .fda-warning-badge {
      display: inline-flex; align-items: center; gap: 6px;
      background: rgba(255, 107, 107, 0.15); color: #ff6b6b;
      padding: 6px 12px; border-radius: 20px;
      font-size: 11px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.5px; margin-bottom: 16px;
    }
    .legal-splash-content {
      background: rgba(0, 0, 0, 0.3); border-radius: 12px;
      padding: 20px; margin-bottom: 24px;
    }
    .legal-splash-content h3 { color: #fff; font-size: 14px; font-weight: 600; margin: 0 0 12px; text-transform: uppercase; letter-spacing: 0.5px; }
    .legal-splash-content p { color: #c0c0d0; font-size: 13px; line-height: 1.6; margin: 0 0 12px; }
    .legal-checkbox-list { list-style: none; padding: 0; margin: 0 0 24px; }
    .legal-checkbox-item {
      display: flex; align-items: flex-start; gap: 12px; padding: 16px;
      background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px; margin-bottom: 12px; cursor: pointer; transition: all 0.2s ease;
    }
    .legal-checkbox-item:hover { background: rgba(255, 255, 255, 0.05); border-color: rgba(255, 255, 255, 0.2); }
    .legal-checkbox-item.checked { background: rgba(76, 175, 80, 0.1); border-color: rgba(76, 175, 80, 0.3); }
    .legal-checkbox-item input[type="checkbox"] { width: 20px; height: 20px; margin: 0; flex-shrink: 0; cursor: pointer; accent-color: #4caf50; }
    .legal-checkbox-text { font-size: 13px; color: #e0e0f0; line-height: 1.5; }
    .legal-checkbox-text strong { color: #fff; display: block; margin-bottom: 4px; }
    .legal-splash-actions { display: flex; flex-direction: column; gap: 12px; }
    .legal-splash-btn {
      width: 100%; padding: 16px 24px; border: none; border-radius: 8px;
      font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; font-family: inherit;
    }
    .legal-splash-btn-primary { background: linear-gradient(135deg, #4caf50 0%, #45a049 100%); color: #fff; }
    .legal-splash-btn-primary:hover:not(:disabled) { background: linear-gradient(135deg, #45a049 0%, #3d8b40 100%); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3); }
    .legal-splash-btn-primary:disabled { background: #3a3a4a; color: #6a6a7a; cursor: not-allowed; }
    .legal-splash-btn-secondary { background: transparent; color: #a0a0b0; border: 1px solid rgba(255, 255, 255, 0.2); }
    .legal-splash-btn-secondary:hover { background: rgba(255, 255, 255, 0.05); color: #fff; }
    .legal-splash-btn-check-all {
      background: transparent; color: #a0a0b0; border: 1px dashed rgba(255, 255, 255, 0.2);
      padding: 10px 20px; border-radius: 6px; font-size: 13px; font-weight: 500;
      cursor: pointer; transition: all 0.2s ease; width: 100%; font-family: inherit; margin-bottom: 4px;
    }
    .legal-splash-btn-check-all:hover { background: rgba(255, 255, 255, 0.05); color: #fff; border-color: rgba(255, 255, 255, 0.3); }
    .legal-splash-footer { text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
    .legal-splash-footer p { font-size: 11px; color: #707080; margin: 0; }
  </style>
</head>
<body>
  <!-- Legal Disclaimer Splash Screen (must acknowledge before using app) -->
  <div id="legal-splash" class="legal-splash-overlay">
    <div class="legal-splash-modal">
      <div class="legal-splash-header">
        <div class="legal-splash-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32" height="32">
            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
          </svg>
        </div>
        <span class="fda-warning-badge">Not FDA Cleared</span>
        <h1 class="legal-splash-title">Important Legal Notice</h1>
        <p class="legal-splash-subtitle">Please read and acknowledge before using MedKitt</p>
      </div>
      <div class="legal-splash-content">
        <h3>Required Acknowledgments</h3>
        <p>MedKitt is a clinical decision support tool designed to assist licensed healthcare professionals. By proceeding, you acknowledge and agree to the following:</p>
      </div>
      <ul class="legal-checkbox-list">
        <li class="legal-checkbox-item">
          <input type="checkbox" id="ack-1">
          <span class="legal-checkbox-text">
            <strong>Not a Medical Device</strong>
            I understand that MedKitt is NOT an FDA-cleared medical device and has not been reviewed or approved by the U.S. Food and Drug Administration.
          </span>
        </li>
        <li class="legal-checkbox-item">
          <input type="checkbox" id="ack-2">
          <span class="legal-checkbox-text">
            <strong>Not a Substitute for Professional Judgment</strong>
            I understand that MedKitt is for informational purposes only and does NOT replace my clinical judgment, training, or the advice of qualified medical professionals.
          </span>
        </li>
        <li class="legal-checkbox-item">
          <input type="checkbox" id="ack-3">
          <span class="legal-checkbox-text">
            <strong>Licensed Healthcare Provider</strong>
            I confirm that I am a licensed healthcare professional or medical student under supervision, and I will use this tool only within my scope of practice and licensure.
          </span>
        </li>
        <li class="legal-checkbox-item">
          <input type="checkbox" id="ack-4">
          <span class="legal-checkbox-text">
            <strong>Assumption of Risk & Liability</strong>
            I understand that I assume full responsibility for any clinical decisions made using information from MedKitt. The creators, developers, and affiliates of MedKitt assume no liability for patient outcomes, errors, or omissions.
          </span>
        </li>
      </ul>
      <div class="legal-splash-actions">
        <button id="splash-check-all" class="legal-splash-btn legal-splash-btn-check-all">Check All</button>
        <button id="splash-acknowledge" class="legal-splash-btn legal-splash-btn-primary" disabled>I Acknowledge and Agree — Enter MedKitt</button>
        <button id="splash-exit" class="legal-splash-btn legal-splash-btn-secondary">I Do Not Agree — Exit</button>
      </div>
      <div class="legal-splash-footer">
        <p>© 2026 MedKitt. By clicking "I Acknowledge and Agree," you accept these terms.<br>
        This acknowledgment will be saved for future visits.</p>
      </div>
    </div>
  </div>

  <!-- Persistent FDA Disclaimer Banner -->
  <div id="legal-banner" class="legal-banner">
    <svg class="legal-banner-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
    </svg>
    <span class="legal-banner-text">
      <strong>NOT FDA CLEARED:</strong> For educational use only. Not a substitute for clinical judgment.
      <a href="#" id="legal-learn-more" style="color: #fff; text-decoration: underline;">Learn more</a>
    </span>
    <button class="legal-banner-close" id="legal-banner-close" aria-label="Dismiss">×</button>
  </div>

  <!-- Legal Details Modal -->
  <div id="legal-modal" class="legal-modal-overlay">
    <div class="legal-modal">
      <h2>Important Legal Information</h2>
      <p><strong>Not a Medical Device:</strong> MedKitt is NOT an FDA-cleared medical device and has not been reviewed or approved by the U.S. Food and Drug Administration.</p>
      <p><strong>Educational Purpose Only:</strong> This application is designed for educational and clinical decision support purposes only. It does not provide medical advice, diagnosis, or treatment recommendations.</p>
      <p><strong>Professional Judgment Required:</strong> Always use your clinical judgment and training. Consult with qualified medical professionals for patient care decisions.</p>
      <p><strong>No Liability:</strong> The creators, developers, and affiliates of MedKitt assume no liability for patient outcomes, errors, or omissions resulting from use of this tool.</p>
      <p><strong>Licensed Use:</strong> This tool is intended for use by licensed healthcare professionals and medical students under supervision only.</p>
      <button class="legal-modal-btn" id="legal-modal-close-btn">I Understand</button>
    </div>
  </div>

  <div id="app">
    <header class="app-header">
      <a href="#/" class="logo" style="text-decoration:none;cursor:pointer">
        <h1 class="logo-text">
          <span class="logo-med">Med</span><span class="logo-kitt">Kitt</span>
        </h1>
        <div class="accent-line"></div>
      </a>
    </header>
    <main id="main-content" class="main-content" role="main">
      <div class="loading-state">
        <p>Loading...</p>
      </div>
    </main>
    
    <!-- Legal Footer -->
    <footer class="legal-footer">
      <p><strong>© 2026 MedKitt</strong> — Not an FDA-cleared medical device.</p>
      <p>For educational and decision support purposes only. Does not replace clinical judgment.</p>
      <p>By using this application, you agree to our <a href="#" id="legal-terms-link">Terms of Use</a>.</p>
    </footer>
  </div>
  
  <script src="legal-banner.js"></script>
  <script src="app.js" type="module"></script>
</body>
</html>